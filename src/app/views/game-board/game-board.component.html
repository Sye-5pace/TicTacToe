<app-restart-modal />

<app-result-modal [result]="result"/>

<main class="flex flex-col gap-y-[1.85rem] w-[28.75rem] ">
  <header class="flex justify-between  items-center anime-rightshift">
    <div class="flex gap-2 h-[1.9375rem]">
      <img src="../../../assets/images/Logo-1.svg" class="anime-logo-1" alt="logo">
      <img src="../../../assets/images/Logo-2.svg" class="anime-logo-2" alt="logo">
    </div>
    <div class="bg-tepapagreen shadow-inner-bottom w-[8.75rem] h-[3.25rem] rounded-[.625rem] flex  items-center justify-center gap-2 py-1">
      <span class=" font-varelaround font-black text-[2rem] mb-3">{{ turn$ | async }}</span>
      <span class="mb-2">TURN</span>
    </div>
    <button class="shadow-inner-bottom flex items-center justify-center  size-[3.25rem] bg-casper rounded-[.625rem]" title="restart" (click)="displayModal()">
      <img src="../../../assets/images/Redo.svg" class="size-[1.25rem]" alt="">
    </button>
  </header>
  <section class="flex flex-col gap-y-[1rem]">
    <div class="grid grid-cols-3 gap-4 *:h-[8.75rem] *:bg-tepapagreen *:shadow-inner-bottom *:rounded-[.625rem] *:text-center *:cursor-pointer mark-container">
      @for(tile of tiles; track tile; let i = $index){
        <div class="mark-tile flex items-center justify-center font-varelaround font-black text-[5rem] mb-3 *:rounded-[.625rem] " (click)="makeChoice(i)">
          @if(tile === 'x'){
            <div [ngClass]="getTileClass(i)">
              x
            </div>
          } @else if ( tile === 'o' ) {
            <div [ngClass]="getTileClass(i)">
              o
            </div>
          }
        </div>
      } @empty {
        <li>loading</li>
      }
    </div>
    <div class="grid grid-cols-3 gap-4 *:rounded-[.9375rem] *:h-[4.5rem] text-mirage *:flex *:justify-center score-bar overflow-hidden">
      <div class="bg-turquoise">
        <div class="score">
          <p>X(YOU)</p>
          <h3>0</h3>
        </div>
      </div>
      <div class="bg-casper">
        <div class="score">
          <p>TIES</p>
          <h3>0</h3>
        </div>
      </div>
      <div class="bg-saffron">
        <div class="score">
          <p>O(CPU)</p>
          <h3>0</h3>
        </div>
      </div>
    </div>
  </section>
  <!-- <section></section> -->
</main>
